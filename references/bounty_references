# Ways to find Real IP behind CDN or WAF

## Passive
1 - DNS records
2 - CIDR
3 - SSL Certs
4 - Shodan

## Active
1 - XML/RPC Pingback
2 - Vhosts
3 - Google Analytics

==============================================================

# /wp-json/oembed/1.0/proxy - SSRF

Try to access https://postbin.address/ and the Worpress site may make a request to you.

==============================================================

# WebSockets

## CSRF
Check if a site has CSRF tokens on a WebSocket handshake. This could lead to Cross Site WebSocket Hijacking
which allows an attacker:
1. Make unauthorized request to the server as with the regular CSRF
2. Look through restricted data that the user cannot view

==============================================================

# XSS

## Reflected XSS

### Reflected XSS into attribute with angle brackets HTML-encoded
If a value is reflected into a quoted attribute try a onmouseover or similar event to trigger XSS

### Reflected XSS into a JavaScript string with angle brackets HTML encoded
Sometimes the value is passed into a Javascript String so try and escape and execute JS, for example '-alert(1)-

### Reflected DOM XSS
In a Reflected DOM XSS a server echoes the results of an input in a JSON or some other type of answer. In this case
note how the value is passed and which characters could be used to escape the query.

## Stored XSS

### Stored XSS into anchor href attribute with double quotes HTML-encoded
Remember when storing payloads javascript:alert() can also be used, especially if it's being coded into an HTML tag.

### Stored DOM XSS
Javascript replace() function is a vulnerable way to prevent DOM XSS. If used in input try testing if only the first
occurence gets encoded.

## DOM XSS

### DOM XSS in jQuery anchor href attribute sink using location.search source
Sometimes URL parameters will get coded into HTML tags, inspect every button, image, link, etc. and
test for XSS.

### DOM XSS in jQuery selector sink using a hashchange event
Check if I can manipulate with window.location.hash variable and try to exploit it.

### DOM XSS in document.write sink using source location.search inside a select element
Sometimes I can break out of a <select> element and execute JS.

### DOM XSS in AngularJS expression with angle brackets and double quotes HTML-encoded
Look for ng- class prefixes in inputs which indicate AngularJS usage, {{7*7}} is a typical payload.


